<!DOCTYPE html><html class="theme-next pisces use-motion" lang="zh-Hans"><head><meta name="keywords" content="Spring,springBoot,spring-boot,springboot配置属性"><meta name="description" content="Spring Boot 属性配置和使用"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="google-site-verification" content="az36BCre_XxgT9qTSa9_eJwOM54MaIlKstfU0CO4FEI"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css"><link href="//cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="/css/main.css" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/uploads/image/logo180.png"><link rel="icon" type="image/png" sizes="32x32" href="/uploads/image/logo64.png"><link rel="icon" type="image/png" sizes="16x16" href="/uploads/image/logo64.png"><link rel="mask-icon" href="/uploads/image/logo300.svg" color="#222"><link rel="alternate" href="/atom.xml" title="iwyy's Blog" type="application/atom+xml"><meta property="og:type" content="website"><meta property="og:title" content="iwyy&#39;s Blog"><meta property="og:url" content="http://www.iwyy.top/categories/index.html"><meta property="og:site_name" content="iwyy&#39;s Blog"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2017-12-31T04:17:38.070Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="iwyy&#39;s Blog"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"6.0.0",sidebar:{position:"left",display:"always",offset:12,b2t:!0,scrollpercent:!0,onmobile:!1},fancybox:!0,fastclick:!0,lazyload:!0,tabs:!0,motion:{enable:!0,async:!0,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.iwyy.top/categories/"><title>Spring Boot 属性配置和使用 | iwyy's Blog</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?9af9ad7600513d41fd2b2ad6c4633785";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">iwyy's Blog</span> <span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">Life is so beautiful</h1></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.iwyy.top/2018/spring-boot-config.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="iwyy"><meta itemprop="description" content=""><meta itemprop="image" content="/uploads/m.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="iwyy's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">Spring Boot 属性配置和使用</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-02-27T19:33:00+08:00">2018-02-27</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="SpringBoot配置属性之MVC"><a href="#SpringBoot配置属性之MVC" class="headerlink" title="SpringBoot配置属性之MVC"></a>SpringBoot配置属性之MVC</h1><h2 id="mvc"><a href="#mvc" class="headerlink" title="mvc"></a>mvc</h2><p>spring.mvc.async.request-timeout<br>设定async请求的超时时间，以毫秒为单位，如果没有设置的话，以具体实现的超时时间为准，比如tomcat的servlet3的话是10秒.</p><p>spring.mvc.date-format<br>设定日期的格式，比如dd/MM/yyyy.</p><p>spring.mvc.favicon.enabled<br>是否支持favicon.ico，默认为: true</p><p>spring.mvc.ignore-default-model-on-redirect<br>在重定向时是否忽略默认model的内容，默认为true</p><p>spring.mvc.locale<br>指定使用的Locale.</p><p>spring.mvc.message-codes-resolver-format<br>指定message codes的格式化策略(PREFIX_ERROR_CODE,POSTFIX_ERROR_CODE).</p><p>spring.mvc.view.prefix<br>指定mvc视图的前缀.</p><p>spring.mvc.view.suffix<br>指定mvc视图的后缀.</p><h2 id="messages"><a href="#messages" class="headerlink" title="messages"></a>messages</h2><p>spring.messages.basename<br>指定message的basename，多个以逗号分隔，如果不加包名的话，默认从classpath路径开始，默认: messages</p><p>spring.messages.cache-seconds<br>设定加载的资源文件缓存失效时间，-1的话为永不过期，默认为-1</p><p>spring.messages.encoding<br>设定Message bundles的编码，默认: UTF-8<br><a id="more"></a></p><h2 id="mobile"><a href="#mobile" class="headerlink" title="mobile"></a>mobile</h2><p>spring.mobile.devicedelegatingviewresolver.enable-fallback<br>是否支持fallback的解决方案，默认false</p><p>spring.mobile.devicedelegatingviewresolver.enabled<br>是否开始device view resolver，默认为: false</p><p>spring.mobile.devicedelegatingviewresolver.mobile-prefix<br>设定mobile端视图的前缀，默认为:mobile/</p><p>spring.mobile.devicedelegatingviewresolver.mobile-suffix<br>设定mobile视图的后缀</p><p>spring.mobile.devicedelegatingviewresolver.normal-prefix<br>设定普通设备的视图前缀</p><p>spring.mobile.devicedelegatingviewresolver.normal-suffix<br>设定普通设备视图的后缀</p><p>spring.mobile.devicedelegatingviewresolver.tablet-prefix<br>设定平板设备视图前缀，默认:tablet/</p><p>spring.mobile.devicedelegatingviewresolver.tablet-suffix<br>设定平板设备视图后缀.</p><p>spring.mobile.sitepreference.enabled<br>是否启用SitePreferenceHandler，默认为: true</p><h2 id="resource"><a href="#resource" class="headerlink" title="resource"></a>resource</h2><p>spring.resources.add-mappings<br>是否开启默认的资源处理，默认为true</p><p>spring.resources.cache-period<br>设定资源的缓存时效，以秒为单位.</p><p>spring.resources.chain.cache<br>是否开启缓存，默认为: true</p><p>spring.resources.chain.enabled<br>是否开启资源 handling chain，默认为false</p><p>spring.resources.chain.html-application-cache<br>是否开启h5应用的cache manifest重写，默认为: false</p><p>spring.resources.chain.strategy.content.enabled<br>是否开启内容版本策略，默认为false</p><p>spring.resources.chain.strategy.content.paths<br>指定要应用的版本的路径，多个以逗号分隔，默认为:[/**]</p><p>spring.resources.chain.strategy.fixed.enabled<br>是否开启固定的版本策略，默认为false</p><p>spring.resources.chain.strategy.fixed.paths<br>指定要应用版本策略的路径，多个以逗号分隔</p><p>spring.resources.chain.strategy.fixed.version<br>指定版本策略使用的版本号</p><p>spring.resources.static-locations<br>指定静态资源路径，默认为classpath:[/META-INF/resources/,/resources/, /static/, /public/]以及context:/</p><h2 id="multipart"><a href="#multipart" class="headerlink" title="multipart"></a>multipart</h2><p>multipart.enabled<br>是否开启文件上传支持，默认为true</p><p>multipart.file-size-threshold<br>设定文件写入磁盘的阈值，单位为MB或KB，默认为0</p><p>multipart.location<br>指定文件上传路径.</p><p>multipart.max-file-size<br>指定文件大小最大值，默认1MB</p><p>multipart.max-request-size<br>指定每次请求的最大值，默认为10MB</p><h2 id="freemarker"><a href="#freemarker" class="headerlink" title="freemarker"></a>freemarker</h2><p>spring.freemarker.allow-request-override<br>指定HttpServletRequest的属性是否可以覆盖controller的model的同名项</p><p>spring.freemarker.allow-session-override<br>指定HttpSession的属性是否可以覆盖controller的model的同名项</p><p>spring.freemarker.cache<br>是否开启template caching.</p><p>spring.freemarker.charset<br>设定Template的编码.</p><p>spring.freemarker.check-template-location<br>是否检查templates路径是否存在.</p><p>spring.freemarker.content-type<br>设定Content-Type.</p><p>spring.freemarker.enabled<br>是否允许mvc使用freemarker.</p><p>spring.freemarker.expose-request-attributes<br>设定所有request的属性在merge到模板的时候，是否要都添加到model中.</p><p>spring.freemarker.expose-session-attributes<br>设定所有HttpSession的属性在merge到模板的时候，是否要都添加到model中.</p><p>spring.freemarker.expose-spring-macro-helpers<br>设定是否以springMacroRequestContext的形式暴露RequestContext给Spring’s macro library使用</p><p>spring.freemarker.prefer-file-system-access<br>是否优先从文件系统加载template，以支持热加载，默认为true</p><p>spring.freemarker.prefix<br>设定freemarker模板的前缀.</p><p>spring.freemarker.request-context-attribute<br>指定RequestContext属性的名.</p><p>spring.freemarker.settings<br>设定FreeMarker keys.</p><p>spring.freemarker.suffix<br>设定模板的后缀.</p><p>spring.freemarker.template-loader-path<br>设定模板的加载路径，多个以逗号分隔，默认: [“classpath:/templates/“]</p><p>spring.freemarker.view-names<br>指定使用模板的视图列表.</p><h2 id="velocity"><a href="#velocity" class="headerlink" title="velocity"></a>velocity</h2><p>spring.velocity.allow-request-override<br>指定HttpServletRequest的属性是否可以覆盖controller的model的同名项</p><p>spring.velocity.allow-session-override<br>指定HttpSession的属性是否可以覆盖controller的model的同名项</p><p>spring.velocity.cache<br>是否开启模板缓存</p><p>spring.velocity.charset<br>设定模板编码</p><p>spring.velocity.check-template-location<br>是否检查模板路径是否存在.</p><p>spring.velocity.content-type<br>设定ContentType的值</p><p>spring.velocity.date-tool-attribute<br>设定暴露给velocity上下文使用的DateTool的名</p><p>spring.velocity.enabled<br>设定是否允许mvc使用velocity</p><p>spring.velocity.expose-request-attributes<br>是否在merge模板的时候，将request属性都添加到model中</p><p>spring.velocity.expose-session-attributes<br>是否在merge模板的时候，将HttpSession属性都添加到model中</p><p>spring.velocity.expose-spring-macro-helpers<br>设定是否以springMacroRequestContext的名来暴露RequestContext给Spring’s macro类库使用</p><p>spring.velocity.number-tool-attribute<br>设定暴露给velocity上下文的NumberTool的名</p><p>spring.velocity.prefer-file-system-access<br>是否优先从文件系统加载模板以支持热加载，默认为true</p><p>spring.velocity.prefix<br>设定velocity模板的前缀.</p><p>spring.velocity.properties<br>设置velocity的额外属性.</p><p>spring.velocity.request-context-attribute<br>设定RequestContext attribute的名.</p><p>spring.velocity.resource-loader-path<br>设定模板路径，默认为: classpath:/templates/</p><p>spring.velocity.suffix<br>设定velocity模板的后缀.</p><p>spring.velocity.toolbox-config-location<br>设定Velocity Toolbox配置文件的路径，比如 /WEB-INF/toolbox.xml.</p><p>spring.velocity.view-names<br>设定需要解析的视图名称.</p><h2 id="thymeleaf"><a href="#thymeleaf" class="headerlink" title="thymeleaf"></a>thymeleaf</h2><p>spring.thymeleaf.cache<br>是否开启模板缓存，默认true</p><p>spring.thymeleaf.check-template-location<br>是否检查模板路径是否存在，默认true</p><p>spring.thymeleaf.content-type<br>指定Content-Type，默认为: text/html</p><p>spring.thymeleaf.enabled<br>是否允许MVC使用Thymeleaf，默认为: true</p><p>spring.thymeleaf.encoding<br>指定模板的编码，默认为: UTF-8</p><p>spring.thymeleaf.excluded-view-names<br>指定不使用模板的视图名称，多个以逗号分隔.</p><p>spring.thymeleaf.mode<br>指定模板的模式，具体查看StandardTemplateModeHandlers，默认为: HTML5</p><p>spring.thymeleaf.prefix<br>指定模板的前缀，默认为:classpath:/templates/</p><p>spring.thymeleaf.suffix<br>指定模板的后缀，默认为:.html</p><p>spring.thymeleaf.template-resolver-order<br>指定模板的解析顺序，默认为第一个.</p><p>spring.thymeleaf.view-names<br>指定使用模板的视图名，多个以逗号分隔.</p><h2 id="mustcache"><a href="#mustcache" class="headerlink" title="mustcache"></a>mustcache</h2><p>spring.mustache.cache<br>是否Enable template caching.</p><p>spring.mustache.charset<br>指定Template的编码.</p><p>spring.mustache.check-template-location<br>是否检查默认的路径是否存在.</p><p>spring.mustache.content-type<br>指定Content-Type.</p><p>spring.mustache.enabled<br>是否开启mustcache的模板支持.</p><p>spring.mustache.prefix<br>指定模板的前缀，默认: classpath:/templates/</p><p>spring.mustache.suffix<br>指定模板的后缀，默认: .html</p><p>spring.mustache.view-names<br>指定要使用模板的视图名.</p><h2 id="groovy模板"><a href="#groovy模板" class="headerlink" title="groovy模板"></a>groovy模板</h2><p>spring.groovy.template.allow-request-override<br>指定HttpServletRequest的属性是否可以覆盖controller的model的同名项</p><p>spring.groovy.template.allow-session-override<br>指定HttpSession的属性是否可以覆盖controller的model的同名项</p><p>spring.groovy.template.cache<br>是否开启模板缓存.</p><p>spring.groovy.template.charset<br>指定Template编码.</p><p>spring.groovy.template.check-template-location<br>是否检查模板的路径是否存在.</p><p>spring.groovy.template.configuration.auto-escape<br>是否在渲染模板时自动排查model的变量，默认为: false</p><p>spring.groovy.template.configuration.auto-indent<br>是否在渲染模板时自动缩进，默认为false</p><p>spring.groovy.template.configuration.auto-indent-string<br>如果自动缩进启用的话，是使用SPACES还是TAB，默认为: SPACES</p><p>spring.groovy.template.configuration.auto-new-line<br>渲染模板时是否要输出换行，默认为false</p><p>spring.groovy.template.configuration.base-template-class<br>指定template base class.</p><p>spring.groovy.template.configuration.cache-templates<br>是否要缓存模板，默认为true</p><p>spring.groovy.template.configuration.declaration-encoding<br>在写入declaration header时使用的编码</p><p>spring.groovy.template.configuration.expand-empty-elements<br>是使用<br>这种形式，还是<br><br>这种展开模式，默认为: false)</p><p>spring.groovy.template.configuration.locale<br>指定template locale.</p><p>spring.groovy.template.configuration.new-line-string<br>当启用自动换行时，换行的输出，默认为系统的line.separator属性的值</p><p>spring.groovy.template.configuration.resource-loader-path<br>指定groovy的模板路径，默认为classpath:/templates/</p><p>spring.groovy.template.configuration.use-double-quotes<br>指定属性要使用双引号还是单引号，默认为false</p><p>spring.groovy.template.content-type<br>指定Content-Type.</p><p>spring.groovy.template.enabled<br>是否开启groovy模板的支持.</p><p>spring.groovy.template.expose-request-attributes<br>设定所有request的属性在merge到模板的时候，是否要都添加到model中.</p><p>spring.groovy.template.expose-session-attributes<br>设定所有request的属性在merge到模板的时候，是否要都添加到model中.</p><p>spring.groovy.template.expose-spring-macro-helpers<br>设定是否以springMacroRequestContext的形式暴露RequestContext给Spring’s macro library使用</p><p>spring.groovy.template.prefix<br>指定模板的前缀.</p><p>spring.groovy.template.request-context-attribute<br>指定RequestContext属性的名.</p><p>spring.groovy.template.resource-loader-path<br>指定模板的路径，默认为: classpath:/templates/</p><p>spring.groovy.template.suffix<br>指定模板的后缀</p><p>spring.groovy.template.view-names<br>指定要使用模板的视图名称.</p><h2 id="http"><a href="#http" class="headerlink" title="http"></a>http</h2><p>spring.hateoas.apply-to-primary-object-mapper<br>设定是否对object mapper也支持HATEOAS，默认为: true</p><p>spring.http.converters.preferred-json-mapper<br>是否优先使用JSON mapper来转换.</p><p>spring.http.encoding.charset<br>指定http请求和相应的Charset，默认: UTF-8</p><p>spring.http.encoding.enabled<br>是否开启http的编码支持，默认为true</p><p>spring.http.encoding.force<br>是否强制对http请求和响应进行编码，默认为true</p><h2 id="json"><a href="#json" class="headerlink" title="json"></a>json</h2><p>spring.jackson.date-format<br>指定日期格式，比如yyyy-MM-dd HH:mm:ss，或者具体的格式化类的全限定名</p><p>spring.jackson.deserialization<br>是否开启Jackson的反序列化</p><p>spring.jackson.generator<br>是否开启json的generators.</p><p>spring.jackson.joda-date-time-format<br>指定Joda date/time的格式，比如yyyy-MM-dd HH:mm:ss). 如果没有配置的话，dateformat会作为backup</p><p>spring.jackson.locale<br>指定json使用的Locale.</p><p>spring.jackson.mapper<br>是否开启Jackson通用的特性.</p><p>spring.jackson.parser<br>是否开启jackson的parser特性.</p><p>spring.jackson.property-naming-strategy<br>指定PropertyNamingStrategy (CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES)或者指定PropertyNamingStrategy子类的全限定类名.</p><p>spring.jackson.serialization<br>是否开启jackson的序列化.</p><p>spring.jackson.serialization-inclusion<br>指定序列化时属性的inclusion方式，具体查看JsonInclude.Include枚举.</p><p>spring.jackson.time-zone<br>指定日期格式化时区，比如America/Los_Angeles或者GMT+10.</p><h2 id="jersey"><a href="#jersey" class="headerlink" title="jersey"></a>jersey</h2><p>spring.jersey.filter.order<br>指定Jersey filter的order，默认为: 0</p><p>spring.jersey.init<br>指定传递给Jersey的初始化参数.</p><p>spring.jersey.type<br>指定Jersey的集成类型，可以是servlet或者filter.</p><h1 id="SpringBoot配置属性之Server"><a href="#SpringBoot配置属性之Server" class="headerlink" title="SpringBoot配置属性之Server"></a>SpringBoot配置属性之Server</h1><h2 id="server配置"><a href="#server配置" class="headerlink" title="server配置"></a>server配置</h2><p>server.address<br>指定server绑定的地址</p><p>server.compression.enabled<br>是否开启压缩，默认为false.</p><p>server.compression.excluded-user-agents<br>指定不压缩的user-agent，多个以逗号分隔，默认值为:text/html,text/xml,text/plain,text/css</p><p>server.compression.mime-types<br>指定要压缩的MIME type，多个以逗号分隔.</p><p>server.compression.min-response-size<br>执行压缩的阈值，默认为2048</p><p>server.context-parameters.[param name]<br>设置servlet context 参数</p><p>server.context-path<br>设定应用的context-path.</p><p>server.display-name<br>设定应用的展示名称，默认: application</p><p>server.jsp-servlet.class-name<br>设定编译JSP用的servlet，默认: org.apache.jasper</p><p>.servlet.JspServlet)</p><p>server.jsp-servlet.init-parameters.[param name]<br>设置JSP servlet 初始化参数.</p><p>server.jsp-servlet.registered<br>设定JSP servlet是否注册到内嵌的servlet容器，默认true</p><p>server.port<br>设定http监听端口</p><p>server.servlet-path<br>设定dispatcher servlet的监听路径，默认为: /</p><h2 id="cookie、session配置"><a href="#cookie、session配置" class="headerlink" title="cookie、session配置"></a>cookie、session配置</h2><p>server.session.cookie.comment<br>指定session cookie的comment</p><p>server.session.cookie.domain<br>指定session cookie的domain</p><p>server.session.cookie.http-only<br>是否开启HttpOnly.</p><p>server.session.cookie.max-age<br>设定session cookie的最大age.</p><p>server.session.cookie.name<br>设定Session cookie 的名称.</p><p>server.session.cookie.path<br>设定session cookie的路径.</p><p>server.session.cookie.secure<br>设定session cookie的“Secure” flag.</p><p>server.session.persistent<br>重启时是否持久化session，默认false</p><p>server.session.timeout<br>session的超时时间</p><p>server.session.tracking-modes<br>设定Session的追踪模式(cookie, url, ssl).</p><h2 id="ssl配置"><a href="#ssl配置" class="headerlink" title="ssl配置"></a>ssl配置</h2><p>server.ssl.ciphers<br>是否支持SSL ciphers.</p><p>server.ssl.client-auth<br>设定client authentication是wanted 还是 needed.</p><p>server.ssl.enabled<br>是否开启ssl，默认: true</p><p>server.ssl.key-alias<br>设定key store中key的别名.</p><p>server.ssl.key-password<br>访问key store中key的密码.</p><p>server.ssl.key-store<br>设定持有SSL certificate的key store的路径，通常是一个.jks文件.</p><p>server.ssl.key-store-password<br>设定访问key store的密码.</p><p>server.ssl.key-store-provider<br>设定key store的提供者.</p><p>server.ssl.key-store-type<br>设定key store的类型.</p><p>server.ssl.protocol<br>使用的SSL协议，默认: TLS</p><p>server.ssl.trust-store<br>持有SSL certificates的Trust store.</p><p>server.ssl.trust-store-password<br>访问trust store的密码.</p><p>server.ssl.trust-store-provider<br>设定trust store的提供者.</p><p>server.ssl.trust-store-type<br>指定trust store的类型.</p><h2 id="tomcat"><a href="#tomcat" class="headerlink" title="tomcat"></a>tomcat</h2><p>server.tomcat.access-log-enabled<br>是否开启access log ，默认: false)</p><p>server.tomcat.access-log-pattern<br>设定access logs的格式，默认: common</p><p>server.tomcat.accesslog.directory<br>设定log的目录，默认: logs</p><p>server.tomcat.accesslog.enabled<br>是否开启access log，默认: false</p><p>server.tomcat.accesslog.pattern<br>设定access logs的格式，默认: common</p><p>server.tomcat.accesslog.prefix<br>设定Log 文件的前缀，默认: access_log</p><p>server.tomcat.accesslog.suffix<br>设定Log 文件的后缀，默认: .log</p><p>server.tomcat.background-processor-delay<br>后台线程方法的Delay大小: 30</p><p>server.tomcat.basedir<br>设定Tomcat的base 目录，如果没有指定则使用临时目录.</p><p>server.tomcat.internal-proxies<br>设定信任的正则表达式，默认:“10.\d{1,3}.\d{1,3}.\d{1,3}| 192.168.\d{1,3}.\d{1,3}| 169.254.\d{1,3}.\d{1,3}| 127.\d{1,3}.\d{1,3}.\d{1,3}| 172.1[6-9]{1}.\d{1,3}.\d{1,3}| 172.2[0-9]{1}.\d{1,3}.\d{1,3}|172.3[0-1]{1}.\d{1,3}.\d{1,3}”</p><p>server.tomcat.max-http-header-size<br>设定http header的最小值，默认: 0</p><p>server.tomcat.max-threads<br>设定tomcat的最大工作线程数，默认为: 0</p><p>server.tomcat.port-header<br>设定http header使用的，用来覆盖原来port的value.</p><p>server.tomcat.protocol-header<br>设定Header包含的协议，通常是 X-Forwarded-Proto，如果remoteIpHeader有值，则将设置为RemoteIpValve.</p><p>server.tomcat.protocol-header-https-value<br>设定使用SSL的header的值，默认https.</p><p>server.tomcat.remote-ip-header<br>设定remote IP的header，如果remoteIpHeader有值，则设置为RemoteIpValve</p><p>server.tomcat.uri-encoding<br>设定URI的解码字符集.</p><h2 id="undertow"><a href="#undertow" class="headerlink" title="undertow"></a>undertow</h2><p>server.undertow.access-log-dir<br>设定Undertow access log 的目录，默认: logs</p><p>server.undertow.access-log-enabled<br>是否开启access log，默认: false</p><p>server.undertow.access-log-pattern<br>设定access logs的格式，默认: common</p><p>server.undertow.accesslog.dir<br>设定access log 的目录.</p><p>server.undertow.buffer-size<br>设定buffer的大小.</p><p>server.undertow.buffers-per-region<br>设定每个region的buffer数</p><p>server.undertow.direct-buffers<br>设定堆外内存</p><p>server.undertow.io-threads<br>设定I/O线程数.</p><p>server.undertow.worker-threads<br>设定工作线程数</p><h1 id="SpringBoot配置属性之DataSource"><a href="#SpringBoot配置属性之DataSource" class="headerlink" title="SpringBoot配置属性之DataSource"></a>SpringBoot配置属性之DataSource</h1><h2 id="datasource"><a href="#datasource" class="headerlink" title="datasource"></a>datasource</h2><p>spring.dao.exceptiontranslation.enabled<br>是否开启PersistenceExceptionTranslationPostProcessor，默认为true</p><p>spring.datasource.abandon-when-percentage-full<br>设定超时被废弃的连接占到多少比例时要被关闭或上报</p><p>spring.datasource.allow-pool-suspension<br>使用Hikari pool时，是否允许连接池暂停，默认为: false</p><p>spring.datasource.alternate-username-allowed<br>是否允许替代的用户名.</p><p>spring.datasource.auto-commit<br>指定updates是否自动提交.</p><p>spring.datasource.catalog<br>指定默认的catalog.</p><p>spring.datasource.commit-on-return<br>设置当连接被归还时，是否要提交所有还未完成的事务</p><p>spring.datasource.connection-init-sql<br>指定连接被创建，再被添加到连接池之前执行的sql.</p><p>spring.datasource.connection-init-sqls<br>使用DBCP connection pool时，指定初始化时要执行的sql</p><p>spring.datasource.connection-properties.[key]<br>在使用DBCP connection pool时指定要配置的属性</p><p>spring.datasource.connection-test-query<br>指定校验连接合法性执行的sql语句</p><p>spring.datasource.connection-timeout<br>指定连接的超时时间，毫秒单位.</p><p>spring.datasource.continue-on-error<br>在初始化数据库时，遇到错误是否继续，默认false</p><p>spring.datasource.data<br>指定Data (DML)脚本</p><p>spring.datasource.data-source-class-name<br>指定数据源的全限定名.</p><p>spring.datasource.data-source-jndi<br>指定jndi的地址</p><p>spring.datasource.data-source-properties.[key]<br>使用Hikari connection pool时，指定要设置的属性</p><p>spring.datasource.db-properties<br>使用Tomcat connection pool，指定要设置的属性</p><p>spring.datasource.default-auto-commit<br>是否自动提交.</p><p>spring.datasource.default-catalog<br>指定连接默认的catalog.</p><p>spring.datasource.default-read-only<br>是否设置默认连接只读.</p><p>spring.datasource.default-transaction-isolation<br>指定连接的事务的默认隔离级别.</p><p>spring.datasource.driver-class-name<br>指定driver的类名，默认从jdbc url中自动探测.</p><p>spring.datasource.fair-queue<br>是否采用FIFO返回连接.</p><p>spring.datasource.health-check-properties.[key]<br>使用Hikari connection pool时，在心跳检查时传递的属性</p><p>spring.datasource.idle-timeout<br>指定连接多久没被使用时，被设置为空闲，默认为10ms</p><p>spring.datasource.ignore-exception-on-pre-load<br>当初始化连接池时，是否忽略异常.</p><p>spring.datasource.init-sql<br>当连接创建时，执行的sql</p><p>spring.datasource.initial-size<br>指定启动连接池时，初始建立的连接数量</p><p>spring.datasource.initialization-fail-fast<br>当创建连接池时，没法创建指定最小连接数量是否抛异常</p><p>spring.datasource.initialize<br>指定初始化数据源，是否用data.sql来初始化，默认: true</p><p>spring.datasource.isolate-internal-queries<br>指定内部查询是否要被隔离，默认为false</p><p>spring.datasource.jdbc-interceptors<br>使用Tomcat connection pool时，指定jdbc拦截器，分号分隔</p><p>spring.datasource.jdbc-url<br>指定JDBC URL.</p><p>spring.datasource.jmx-enabled<br>是否开启JMX，默认为: false</p><p>spring.datasource.jndi-name<br>指定jndi的名称.</p><p>spring.datasource.leak-detection-threshold<br>使用Hikari connection pool时，多少毫秒检测一次连接泄露.</p><p>spring.datasource.log-abandoned<br>使用DBCP connection pool，是否追踪废弃statement或连接，默认为: false</p><p>spring.datasource.log-validation-errors<br>当使用Tomcat connection pool是否打印校验错误.</p><p>spring.datasource.login-timeout<br>指定连接数据库的超时时间.</p><p>spring.datasource.max-active<br>指定连接池中最大的活跃连接数.</p><p>spring.datasource.max-age<br>指定连接池中连接的最大年龄</p><p>spring.datasource.max-idle<br>指定连接池最大的空闲连接数量.</p><p>spring.datasource.max-lifetime<br>指定连接池中连接的最大生存时间，毫秒单位.</p><p>spring.datasource.max-open-prepared-statements<br>指定最大的打开的prepared statements数量.</p><p>spring.datasource.max-wait<br>指定连接池等待连接返回的最大等待时间，毫秒单位.</p><p>spring.datasource.maximum-pool-size<br>指定连接池最大的连接数，包括使用中的和空闲的连接.</p><p>spring.datasource.min-evictable-idle-time-millis<br>指定一个空闲连接最少空闲多久后可被清除.</p><p>spring.datasource.min-idle<br>指定必须保持连接的最小值(For DBCP and Tomcat connection pools)</p><p>spring.datasource.minimum-idle<br>指定连接维护的最小空闲连接数，当使用HikariCP时指定.</p><p>spring.datasource.name<br>指定数据源名.</p><p>spring.datasource.num-tests-per-eviction-run<br>指定运行每个idle object evictor线程时的对象数量</p><p>spring.datasource.password<br>指定数据库密码.</p><p>spring.datasource.platform<br>指定schema要使用的Platform(schema-${platform}.sql)，默认为: all</p><p>spring.datasource.pool-name<br>指定连接池名字.</p><p>spring.datasource.pool-prepared-statements<br>指定是否池化statements.</p><p>spring.datasource.propagate-interrupt-state<br>在等待连接时，如果线程被中断，是否传播中断状态.</p><p>spring.datasource.read-only<br>当使用Hikari connection pool时，是否标记数据源只读</p><p>spring.datasource.register-mbeans<br>指定Hikari connection pool是否注册JMX MBeans.</p><p>spring.datasource.remove-abandoned<br>指定当连接超过废弃超时时间时，是否立刻删除该连接.</p><p>spring.datasource.remove-abandoned-timeout<br>指定连接应该被废弃的时间.</p><p>spring.datasource.rollback-on-return<br>在归还连接时，是否回滚等待中的事务.</p><p>spring.datasource.schema<br>指定Schema (DDL)脚本.</p><p>spring.datasource.separator<br>指定初始化脚本的语句分隔符，默认: ;</p><p>spring.datasource.sql-script-encoding<br>指定SQL scripts编码.</p><p>spring.datasource.suspect-timeout<br>指定打印废弃连接前的超时时间.</p><p>spring.datasource.test-on-borrow<br>当从连接池借用连接时，是否测试该连接.</p><p>spring.datasource.test-on-connect<br>创建时，是否测试连接</p><p>spring.datasource.test-on-return<br>在连接归还到连接池时是否测试该连接.</p><p>spring.datasource.test-while-idle<br>当连接空闲时，是否执行连接测试.</p><p>spring.datasource.time-between-eviction-runs-millis<br>指定空闲连接检查、废弃连接清理、空闲连接池大小调整之间的操作时间间隔</p><p>spring.datasource.transaction-isolation<br>指定事务隔离级别，使用Hikari connection pool时指定</p><p>spring.datasource.url<br>指定JDBC URL.</p><p>spring.datasource.use-disposable-connection-facade<br>是否对连接进行包装，防止连接关闭之后被使用.</p><p>spring.datasource.use-equals<br>比较方法名时是否使用String.equals()替换==.</p><p>spring.datasource.use-lock<br>是否对连接操作加锁</p><p>spring.datasource.username<br>指定数据库名.</p><p>spring.datasource.validation-interval<br>指定多少ms执行一次连接校验.</p><p>spring.datasource.validation-query<br>指定获取连接时连接校验的sql查询语句.</p><p>spring.datasource.validation-query-timeout<br>指定连接校验查询的超时时间.</p><p>spring.datasource.validation-timeout<br>设定连接校验的超时时间，当使用Hikari connection pool时指定</p><p>spring.datasource.validator-class-name<br>用来测试查询的validator全限定名.</p><p>spring.datasource.xa.data-source-class-name<br>指定数据源的全限定名.</p><p>spring.datasource.xa.properties<br>指定传递给XA data source的属性</p><h2 id="JPA"><a href="#JPA" class="headerlink" title="JPA"></a>JPA</h2><p>spring.jpa.database<br>指定目标数据库.</p><p>spring.jpa.database-platform<br>指定目标数据库的类型.</p><p>spring.jpa.generate-ddl<br>是否在启动时初始化schema，默认为false</p><p>spring.jpa.hibernate.ddl-auto<br>指定DDL mode (none, validate, update, create, create-drop). 当使用内嵌数据库时，默认是create-drop，否则为none.</p><p>spring.jpa.hibernate.naming-strategy<br>指定命名策略.</p><p>spring.jpa.open-in-view<br>是否注册OpenEntityManagerInViewInterceptor，绑定JPA EntityManager到请求线程中，默认为: true</p><p>spring.jpa.properties<br>添加额外的属性到JPA provider.</p><p>spring.jpa.show-sql<br>是否开启sql的log，默认为: false</p><h2 id="jooq"><a href="#jooq" class="headerlink" title="jooq"></a>jooq</h2><p>spring.jooq.sql-dialect<br>指定JOOQ使用的SQLDialect，比如POSTGRES.</p><h2 id="h2"><a href="#h2" class="headerlink" title="h2"></a>h2</h2><p>spring.h2.console.enabled<br>是否开启控制台，默认为false</p><p>spring.h2.console.path<br>指定控制台路径，默认为: /h2-console</p><h2 id="JTA"><a href="#JTA" class="headerlink" title="JTA"></a>JTA</h2><p>spring.jta.allow-multiple-lrc<br>是否允许 multiple LRC，默认为: false</p><p>spring.jta.asynchronous2-pc<br>指定两阶段提交是否可以异步，默认为: false</p><p>spring.jta.background-recovery-interval<br>指定多少分钟跑一次recovery process，默认为: 1</p><p>spring.jta.background-recovery-interval-seconds<br>指定多久跑一次recovery process，默认: 60</p><p>spring.jta.current-node-only-recovery<br>是否过滤掉其他非本JVM的recovery，默认为: true</p><p>spring.jta.debug-zero-resource-transaction<br>是否追踪没有使用指定资源的事务，默认为: false</p><p>spring.jta.default-transaction-timeout<br>设定默认的事务超时时间，默认为60</p><p>spring.jta.disable-jmx<br>是否禁用jmx，默认为false</p><p>spring.jta.enabled<br>是否开启JTA support，默认为: true</p><p>spring.jta.exception-analyzer<br>设置指定的异常分析类</p><p>spring.jta.filter-log-status<br>使用Bitronix Transaction Manager时，是否写mandatory logs，开启的话，可以节省磁盘空间，但是调试会复杂写，默认为false</p><p>spring.jta.force-batching-enabled<br>使用Bitronix Transaction Manager时，是否批量写磁盘，默认为true.</p><p>spring.jta.forced-write-enabled<br>使用Bitronix Transaction Manager时，是否强制写日志到磁盘，默认为true</p><p>spring.jta.graceful-shutdown-interval<br>当使用Bitronix Transaction Manager，指定shutdown时等待事务结束的时间，超过则中断，默认为60</p><p>spring.jta.jndi-transaction-synchronization-registry-name<br>当使用Bitronix Transaction Manager时，在JNDI下得事务同步registry，默认为: java:comp/TransactionSynchronizationRegistry</p><p>spring.jta.jndi-user-transaction-name<br>指定在JNDI使用Bitronix Transaction Manager的名称，默认:java:comp/UserTransaction</p><p>spring.jta.journal<br>当使用Bitronix Transaction Manager，指定The journal是否disk还是null还是一个类的全限定名，默认disk</p><p>spring.jta.log-dir<br>Transaction logs directory.</p><p>spring.jta.log-part1-filename<br>指定The journal fragment文件1的名字，默认: btm1.tlog</p><p>spring.jta.log-part2-filename<br>指定The journal fragment文件2的名字，默认: btm2.tlog</p><p>spring.jta.max-log-size-in-mb<br>指定journal fragments大小的最大值. 默认: 2M</p><p>spring.jta.resource-configuration-filename<br>指定Bitronix Transaction Manager配置文件名.</p><p>spring.jta.server-id<br>指定Bitronix Transaction Manager实例的id.</p><p>spring.jta.skip-corrupted-logs<br>是否忽略corrupted log files文件，默认为false.</p><p>spring.jta.transaction-manager-id<br>指定Transaction manager的唯一标识.</p><p>spring.jta.warn-about-zero-resource-transaction<br>当使用Bitronix Transaction Manager时，是否对没有使用指定资源的事务进行警告，默认为: true</p><h1 id="SpringBoot配置属性之NOSQL"><a href="#SpringBoot配置属性之NOSQL" class="headerlink" title="SpringBoot配置属性之NOSQL"></a>SpringBoot配置属性之NOSQL</h1><h2 id="cache"><a href="#cache" class="headerlink" title="cache"></a>cache</h2><p>spring.cache.cache-names<br>指定要创建的缓存的名称，逗号分隔(若该缓存实现支持的话)</p><p>spring.cache.ehcache.config<br>指定初始化EhCache时使用的配置文件的位置指定.</p><p>spring.cache.guava.spec<br>指定创建缓存要使用的spec，具体详见CacheBuilderSpec.</p><p>spring.cache.hazelcast.config<br>指定初始化Hazelcast时的配置文件位置</p><p>spring.cache.infinispan.config<br>指定初始化Infinispan时的配置文件位置.</p><p>spring.cache.jcache.config<br>指定jcache的配置文件.</p><p>spring.cache.jcache.provider<br>指定CachingProvider实现类的全限定名.</p><p>spring.cache.type<br>指定缓存类型</p><h2 id="mongodb"><a href="#mongodb" class="headerlink" title="mongodb"></a>mongodb</h2><p>spring.mongodb.embedded.features<br>指定要开启的特性，逗号分隔.</p><p>spring.mongodb.embedded.version<br>指定要使用的版本，默认: 2.6.10</p><h2 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h2><p>spring.redis.database<br>指定连接工厂使用的Database index，默认为: 0</p><p>spring.redis.host<br>指定Redis server host，默认为: localhost</p><p>spring.redis.password<br>指定Redis server的密码</p><p>spring.redis.pool.max-active<br>指定连接池最大的活跃连接数，-1表示无限，默认为8</p><p>spring.redis.pool.max-idle<br>指定连接池最大的空闲连接数，-1表示无限，默认为8</p><p>spring.redis.pool.max-wait<br>指定当连接池耗尽时，新获取连接需要等待的最大时间，以毫秒单位，-1表示无限等待</p><p>spring.redis.pool.min-idle<br>指定连接池中空闲连接的最小数量，默认为0</p><p>spring.redis.port<br>指定redis服务端端口，默认: 6379</p><p>spring.redis.sentinel.master<br>指定redis server的名称</p><p>spring.redis.sentinel.nodes<br>指定sentinel节点，逗号分隔，格式为host:port.</p><p>spring.redis.timeout<br>指定连接超时时间，毫秒单位，默认为0</p><h2 id="springdata"><a href="#springdata" class="headerlink" title="springdata"></a>springdata</h2><p>spring.data.elasticsearch.cluster-name<br>指定es集群名称，默认: elasticsearch</p><p>spring.data.elasticsearch.cluster-nodes<br>指定es的集群，逗号分隔，不指定的话，则启动client node.</p><p>spring.data.elasticsearch.properties<br>指定要配置的es属性.</p><p>spring.data.elasticsearch.repositories.enabled<br>是否开启es存储，默认为: true</p><p>spring.data.jpa.repositories.enabled<br>是否开启JPA支持，默认为: true</p><p>spring.data.mongodb.authentication-database<br>指定鉴权的数据库名</p><p>spring.data.mongodb.database<br>指定mongodb数据库名</p><p>spring.data.mongodb.field-naming-strategy<br>指定要使用的FieldNamingStrategy.</p><p>spring.data.mongodb.grid-fs-database<br>指定GridFS database的名称.</p><p>spring.data.mongodb.host<br>指定Mongo server host.</p><p>spring.data.mongodb.password<br>指定Mongo server的密码.</p><p>spring.data.mongodb.port<br>指定Mongo server port.</p><p>spring.data.mongodb.repositories.enabled<br>是否开启mongodb存储，默认为true</p><p>spring.data.mongodb.uri<br>指定Mongo database URI.默认:mongodb://localhost/test</p><p>spring.data.mongodb.username<br>指定登陆mongodb的用户名.</p><p>spring.data.rest.base-path<br>指定暴露资源的基准路径.</p><p>spring.data.rest.default-page-size<br>指定每页的大小，默认为: 20</p><p>spring.data.rest.limit-param-name<br>指定limit的参数名，默认为: size</p><p>spring.data.rest.max-page-size<br>指定最大的页数，默认为1000</p><p>spring.data.rest.page-param-name<br>指定分页的参数名，默认为: page</p><p>spring.data.rest.return-body-on-create<br>当创建完实体之后，是否返回body，默认为false</p><p>spring.data.rest.return-body-on-update<br>在更新完实体后，是否返回body，默认为false</p><p>spring.data.rest.sort-param-name<br>指定排序使用的key，默认为: sort</p><p>spring.data.solr.host<br>指定Solr host，如果有指定了zk的host的话，则忽略。默认为: <a href="http://127.0.0.1:8983/solr" target="_blank" rel="noopener">http://127.0.0.1:8983/solr</a></p><p>spring.data.solr.repositories.enabled<br>是否开启Solr repositories，默认为: true</p><p>spring.data.solr.zk-host<br>指定zk的地址，格式为HOST:PORT.</p><h1 id="SpringBoot配置属性之MQ"><a href="#SpringBoot配置属性之MQ" class="headerlink" title="SpringBoot配置属性之MQ"></a>SpringBoot配置属性之MQ</h1><h2 id="activemq"><a href="#activemq" class="headerlink" title="activemq"></a>activemq</h2><p>spring.activemq.broker-url<br>指定ActiveMQ broker的URL，默认自动生成.</p><p>spring.activemq.in-memory<br>是否是内存模式，默认为true.</p><p>spring.activemq.password<br>指定broker的密码.</p><p>spring.activemq.pooled<br>是否创建PooledConnectionFactory，而非ConnectionFactory，默认false</p><p>spring.activemq.user<br>指定broker的用户.</p><h2 id="artemis-HornetQ捐献给apache后的版本"><a href="#artemis-HornetQ捐献给apache后的版本" class="headerlink" title="artemis(HornetQ捐献给apache后的版本)"></a>artemis(HornetQ捐献给apache后的版本)</h2><p>spring.artemis.embedded.cluster-password<br>指定集群的密码，默认是启动时随机生成.</p><p>spring.artemis.embedded.data-directory<br>指定Journal文件的目录.如果不开始持久化则不必要指定.</p><p>spring.artemis.embedded.enabled<br>是否开启内嵌模式，默认true</p><p>spring.artemis.embedded.persistent<br>是否开启persistent store，默认false.</p><p>spring.artemis.embedded.queues<br>指定启动时创建的队列，多个用逗号分隔，默认: []</p><p>spring.artemis.embedded.server-id<br>指定Server ID. 默认是一个自增的数字，从0开始.</p><p>spring.artemis.embedded.topics<br>指定启动时创建的topic，多个的话逗号分隔，默认: []</p><p>spring.artemis.host<br>指定Artemis broker 的host. 默认: localhost</p><p>spring.artemis.mode<br>指定Artemis 的部署模式, 默认为auto-detected(也可以为native or embedded).</p><p>spring.artemis.port<br>指定Artemis broker 的端口，默认为: 61616</p><h2 id="rabbitmq"><a href="#rabbitmq" class="headerlink" title="rabbitmq"></a>rabbitmq</h2><p>spring.rabbitmq.addresses<br>指定client连接到的server的地址，多个以逗号分隔.</p><p>spring.rabbitmq.dynamic<br>是否创建AmqpAdmin bean. 默认为: true)</p><p>spring.rabbitmq.host<br>指定RabbitMQ host.默认为: localhost)</p><p>spring.rabbitmq.listener.acknowledge-mode<br>指定Acknowledge的模式.</p><p>spring.rabbitmq.listener.auto-startup<br>是否在启动时就启动mq，默认: true)</p><p>spring.rabbitmq.listener.concurrency<br>指定最小的消费者数量.</p><p>spring.rabbitmq.listener.max-concurrency<br>指定最大的消费者数量.</p><p>spring.rabbitmq.listener.prefetch<br>指定一个请求能处理多少个消息，如果有事务的话，必须大于等于transaction数量.</p><p>spring.rabbitmq.listener.transaction-size<br>指定一个事务处理的消息数量，最好是小于等于prefetch的数量.</p><p>spring.rabbitmq.password<br>指定broker的密码.</p><p>spring.rabbitmq.port<br>指定RabbitMQ 的端口，默认: 5672)</p><p>spring.rabbitmq.requested-heartbeat<br>指定心跳超时，0为不指定.</p><p>spring.rabbitmq.ssl.enabled<br>是否开始SSL，默认: false)</p><p>spring.rabbitmq.ssl.key-store<br>指定持有SSL certificate的key store的路径</p><p>spring.rabbitmq.ssl.key-store-password<br>指定访问key store的密码.</p><p>spring.rabbitmq.ssl.trust-store<br>指定持有SSL certificates的Trust store.</p><p>spring.rabbitmq.ssl.trust-store-password<br>指定访问trust store的密码.</p><p>spring.rabbitmq.username<br>指定登陆broker的用户名.</p><p>spring.rabbitmq.virtual-host<br>指定连接到broker的Virtual host.</p><h2 id="hornetq"><a href="#hornetq" class="headerlink" title="hornetq"></a>hornetq</h2><p>spring.hornetq.embedded.cluster-password<br>指定集群的密码，默认启动时随机生成.</p><p>spring.hornetq.embedded.data-directory<br>指定Journal file 的目录. 如果不开启持久化则不必指定.</p><p>spring.hornetq.embedded.enabled<br>是否开启内嵌模式，默认:true</p><p>spring.hornetq.embedded.persistent<br>是否开启persistent store，默认: false</p><p>spring.hornetq.embedded.queues<br>指定启动是创建的queue，多个以逗号分隔，默认: []</p><p>spring.hornetq.embedded.server-id<br>指定Server ID. 默认使用自增数字，从0开始.</p><p>spring.hornetq.embedded.topics<br>指定启动时创建的topic，多个以逗号分隔，默认: []</p><p>spring.hornetq.host<br>指定HornetQ broker 的host，默认: localhost</p><p>spring.hornetq.mode<br>指定HornetQ 的部署模式，默认是auto-detected，也可以指定native 或者 embedded.</p><p>spring.hornetq.port<br>指定HornetQ broker 端口，默认: 5445</p><h2 id="jms"><a href="#jms" class="headerlink" title="jms"></a>jms</h2><p>spring.jms.jndi-name<br>指定Connection factory JNDI 名称.</p><p>spring.jms.listener.acknowledge-mode<br>指定ack模式，默认自动ack.</p><p>spring.jms.listener.auto-startup<br>是否启动时自动启动jms，默认为: true</p><p>spring.jms.listener.concurrency<br>指定最小的并发消费者数量.</p><p>spring.jms.listener.max-concurrency<br>指定最大的并发消费者数量.</p><p>spring.jms.pub-sub-domain<br>是否使用默认的destination type来支持 publish/subscribe，默认: false</p><h1 id="SpringBoot配置属性之Security"><a href="#SpringBoot配置属性之Security" class="headerlink" title="SpringBoot配置属性之Security"></a>SpringBoot配置属性之Security</h1><p>security.basic.authorize-mode<br>要使用权限控制模式.</p><p>security.basic.enabled<br>是否开启基本的鉴权，默认为true</p><p>security.basic.path<br>需要鉴权的path，多个的话以逗号分隔，默认为[/**]</p><p>security.basic.realm<br>HTTP basic realm 的名字，默认为Spring</p><p>security.enable-csrf<br>是否开启cross-site request forgery校验，默认为false.</p><p>security.filter-order<br>Security filter chain的order，默认为0</p><p>security.headers.cache<br>是否开启http头部的cache控制，默认为false.</p><p>security.headers.content-type<br>是否开启X-Content-Type-Options头部，默认为false.</p><p>security.headers.frame<br>是否开启X-Frame-Options头部，默认为false.</p><p>security.headers.hsts<br>指定HTTP Strict Transport Security (HSTS)模式(none, domain, all).</p><p>security.headers.xss<br>是否开启cross-site scripting (XSS) 保护，默认为false.</p><p>security.ignored<br>指定不鉴权的路径，多个的话以逗号分隔.</p><p>security.oauth2.client.access-token-uri<br>指定获取access token的URI.</p><p>security.oauth2.client.access-token-validity-seconds<br>指定access token失效时长.</p><p>security.oauth2.client.additional-information.[key]<br>设定要添加的额外信息.</p><p>security.oauth2.client.authentication-scheme<br>指定传输不记名令牌(bearer token)的方式(form, header, none,query)，默认为header</p><p>security.oauth2.client.authorities<br>指定授予客户端的权限.</p><p>security.oauth2.client.authorized-grant-types<br>指定客户端允许的grant types.</p><p>security.oauth2.client.auto-approve-scopes<br>对客户端自动授权的scope.</p><p>security.oauth2.client.client-authentication-scheme<br>传输authentication credentials的方式(form, header, none, query)，默认为header方式</p><p>security.oauth2.client.client-id<br>指定OAuth2 client ID.</p><p>security.oauth2.client.client-secret<br>指定OAuth2 client secret. 默认是一个随机的secret.</p><p>security.oauth2.client.grant-type<br>指定获取资源的access token的授权类型.</p><p>security.oauth2.client.id<br>指定应用的client ID.</p><p>security.oauth2.client.pre-established-redirect-uri<br>服务端pre-established的跳转URI.</p><p>security.oauth2.client.refresh-token-validity-seconds<br>指定refresh token的有效期.</p><p>security.oauth2.client.registered-redirect-uri<br>指定客户端跳转URI，多个以逗号分隔.</p><p>security.oauth2.client.resource-ids<br>指定客户端相关的资源id，多个以逗号分隔.</p><p>security.oauth2.client.scope<br>client的scope</p><p>security.oauth2.client.token-name<br>指定token的名称</p><p>security.oauth2.client.use-current-uri<br>是否优先使用请求中URI，再使用pre-established的跳转URI. 默认为true</p><p>security.oauth2.client.user-authorization-uri<br>用户跳转去获取access token的URI.</p><p>security.oauth2.resource.id<br>指定resource的唯一标识.</p><p>security.oauth2.resource.jwt.key-uri<br>JWT token的URI. 当key为公钥时，或者value不指定时指定.</p><p>security.oauth2.resource.jwt.key-value<br>JWT token验证的value. 可以是对称加密或者PEMencoded RSA公钥. 可以使用URI作为value.</p><p>security.oauth2.resource.prefer-token-info<br>是否使用token info，默认为true</p><p>security.oauth2.resource.service-id<br>指定service ID，默认为resource.</p><p>security.oauth2.resource.token-info-uri<br>token解码的URI.</p><p>security.oauth2.resource.token-type<br>指定当使用userInfoUri时，发送的token类型.</p><p>security.oauth2.resource.user-info-uri<br>指定user info的URI</p><p>security.oauth2.sso.filter-order<br>如果没有显示提供WebSecurityConfigurerAdapter时指定的Filter order.</p><p>security.oauth2.sso.login-path<br>跳转到SSO的登录路径默认为/login.</p><p>security.require-ssl<br>是否对所有请求开启SSL，默认为false.</p><p>security.sessions<br>指定Session的创建策略(always, never, if_required, stateless).</p><p>security.user.name<br>指定默认的用户名，默认为user.</p><p>security.user.password<br>默认的用户密码.</p><p>security.user.role<br>默认用户的授权角色.</p><h1 id="SpringBoot配置属性之Migration"><a href="#SpringBoot配置属性之Migration" class="headerlink" title="SpringBoot配置属性之Migration"></a>SpringBoot配置属性之Migration</h1><p>SpringBoot支持了两种数据库迁移工具，一个是flyway，一个是liquibase。其本身也支持sql script，在初始化数据源之后执行指定的脚本。</p><h2 id="flyway"><a href="#flyway" class="headerlink" title="flyway"></a>flyway</h2><p>flyway.baseline-description<br>对执行迁移时基准版本的描述.</p><p>flyway.baseline-on-migrate<br>当迁移时发现目标schema非空，而且带有没有元数据的表时，是否自动执行基准迁移，默认false.</p><p>flyway.baseline-version<br>开始执行基准迁移时对现有的schema的版本打标签，默认值为1.</p><p>flyway.check-location<br>检查迁移脚本的位置是否存在，默认false.</p><p>flyway.clean-on-validation-error<br>当发现校验错误时是否自动调用clean，默认false.</p><p>flyway.enabled<br>是否开启flywary，默认true.</p><p>flyway.encoding<br>设置迁移时的编码，默认UTF-8.</p><p>flyway.ignore-failed-future-migration<br>当读取元数据表时是否忽略错误的迁移，默认false.</p><p>flyway.init-sqls<br>当初始化好连接时要执行的SQL.</p><p>flyway.locations<br>迁移脚本的位置，默认db/migration.</p><p>flyway.out-of-order<br>是否允许无序的迁移，默认false.</p><p>flyway.password<br>目标数据库的密码.</p><p>flyway.placeholder-prefix<br>设置每个placeholder的前缀，默认${.</p><p>flyway.placeholder-replacement<br>placeholders是否要被替换，默认true.</p><p>flyway.placeholder-suffix<br>设置每个placeholder的后缀，默认}.</p><p>flyway.placeholders.[placeholder name]<br>设置placeholder的value</p><p>flyway.schemas<br>设定需要flywary迁移的schema，大小写敏感，默认为连接默认的schema.</p><p>flyway.sql-migration-prefix<br>迁移文件的前缀，默认为V.</p><p>flyway.sql-migration-separator<br>迁移脚本的文件名分隔符，默认__</p><p>flyway.sql-migration-suffix<br>迁移脚本的后缀，默认为.sql</p><p>flyway.table<br>flyway使用的元数据表名，默认为schema_version</p><p>flyway.target<br>迁移时使用的目标版本，默认为latest version</p><p>flyway.url<br>迁移时使用的JDBC URL，如果没有指定的话，将使用配置的主数据源</p><p>flyway.user<br>迁移数据库的用户名</p><p>flyway.validate-on-migrate<br>迁移时是否校验，默认为true.</p><h2 id="liquibase"><a href="#liquibase" class="headerlink" title="liquibase"></a>liquibase</h2><p>liquibase.change-log<br>Change log 配置文件的路径，默认值为classpath:/db/changelog/db.changelog-master.yaml</p><p>liquibase.check-change-log-location<br>是否坚持change log的位置是否存在，默认为true.</p><p>liquibase.contexts<br>逗号分隔的运行时context列表.</p><p>liquibase.default-schema<br>默认的schema.</p><p>liquibase.drop-first<br>是否首先drop schema，默认为false</p><p>liquibase.enabled<br>是否开启liquibase，默认为true.</p><p>liquibase.password<br>目标数据库密码</p><p>liquibase.url<br>要迁移的JDBC URL，如果没有指定的话，将使用配置的主数据源.</p><p>liquibase.user<br>目标数据用户名</p><h1 id="SpringBoot配置属性之其他"><a href="#SpringBoot配置属性之其他" class="headerlink" title="SpringBoot配置属性之其他"></a>SpringBoot配置属性之其他</h1><h2 id="aop"><a href="#aop" class="headerlink" title="aop"></a>aop</h2><p>spring.aop.auto<br>是否支持@EnableAspectJAutoProxy，默认为: true</p><p>spring.aop.proxy-target-class<br>true为使用CGLIB代理，false为JDK代理，默认为false</p><h2 id="application"><a href="#application" class="headerlink" title="application"></a>application</h2><p>spring.application.admin.enabled<br>是否启用admin特性，默认为: false</p><p>spring.application.admin.jmx-name<br>指定admin MBean的名称，默认为: org.springframework.boot:type=Admin,name=SpringApplication</p><h2 id="autoconfig"><a href="#autoconfig" class="headerlink" title="autoconfig"></a>autoconfig</h2><p>spring.autoconfigure.exclude<br>配置要排除的Auto-configuration classes.</p><h2 id="batch"><a href="#batch" class="headerlink" title="batch"></a>batch</h2><p>spring.batch.initializer.enabled<br>是否在必要时创建batch表，默认为true</p><p>spring.batch.job.enabled<br>是否在启动时开启batch job，默认为true</p><p>spring.batch.job.names<br>指定启动时要执行的job的名称，逗号分隔，默认所有job都会被执行</p><p>spring.batch.schema<br>指定要初始化的sql语句路径，默认:classpath:org/springframework/batch/core/schema-@@platform@@.sql)</p><p>spring.batch.table-prefix<br>指定批量处理的表的前缀.</p><h2 id="jmx"><a href="#jmx" class="headerlink" title="jmx"></a>jmx</h2><p>spring.jmx.default-domain<br>指定JMX domain name.</p><p>spring.jmx.enabled<br>是否暴露jmx，默认为true</p><p>spring.jmx.server<br>指定MBeanServer bean name. 默认为: mbeanServer)</p><h2 id="mail"><a href="#mail" class="headerlink" title="mail"></a>mail</h2><p>spring.mail.default-encoding<br>指定默认MimeMessage的编码，默认为: UTF-8</p><p>spring.mail.host<br>指定SMTP server host.</p><p>spring.mail.jndi-name<br>指定mail的jndi名称</p><p>spring.mail.password<br>指定SMTP server登陆密码.</p><p>spring.mail.port<br>指定SMTP server port.</p><p>spring.mail.properties<br>指定JavaMail session属性.</p><p>spring.mail.protocol<br>指定SMTP server使用的协议，默认为: smtp</p><p>spring.mail.test-connection<br>指定是否在启动时测试邮件服务器连接，默认为false</p><p>spring.mail.username<br>指定SMTP server的用户名.</p><h2 id="sendgrid"><a href="#sendgrid" class="headerlink" title="sendgrid"></a>sendgrid</h2><p>spring.sendgrid.password<br>指定SendGrid password.</p><p>spring.sendgrid.proxy.host<br>指定SendGrid proxy host.</p><p>spring.sendgrid.proxy.port<br>指定SendGrid proxy port.</p><p>spring.sendgrid.username<br>指定SendGrid username.</p><h2 id="social"><a href="#social" class="headerlink" title="social"></a>social</h2><p>spring.social.auto-connection-views<br>是否开启连接状态的视图，默认为false</p><p>spring.social.facebook.app-id<br>指定应用id</p><p>spring.social.facebook.app-secret<br>指定应用密码</p><p>spring.social.linkedin.app-id<br>指定应用id</p><p>spring.social.linkedin.app-secret<br>指定应用密码</p><p>spring.social.twitter.app-id<br>指定应用ID.</p><p>spring.social.twitter.app-secret<br>指定应用密码</p><h1 id="程序启动时设置配置文件"><a href="#程序启动时设置配置文件" class="headerlink" title="程序启动时设置配置文件"></a>程序启动时设置配置文件</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SpringApplication application = <span class="keyword">new</span> SpringApplication(Application.class);</span><br><span class="line">Map&lt;String, Object&gt; defaultMap = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">defaultMap.put(<span class="string">"name"</span>, <span class="string">"Isea-Blog"</span>);</span><br><span class="line"><span class="comment">//还可以是Properties对象</span></span><br><span class="line">application.setDefaultProperties(defaultMap);</span><br><span class="line">application.run(args);</span><br></pre></td></tr></table></figure>
<h1 id="Spring-Boot-属性配置使用"><a href="#Spring-Boot-属性配置使用" class="headerlink" title="Spring Boot 属性配置使用"></a>Spring Boot 属性配置使用</h1><h2 id="PropertySource"><a href="#PropertySource" class="headerlink" title="@PropertySource"></a>@PropertySource</h2><p>@PropertySource注解可以从properties文件中，获取对应的key-value值，将其赋予变量；<br>1.一个典型用法：</p>
<p>首先有一个config.properties文件内容如下：</p>
<p>demo.url = 1.2.3.4</p>
<p>demo.db = helloTest</p>
<p>下面是java程序：<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"classpath:config.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfigMongoDB</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//1.2.3.4</span></span><br><span class="line">	<span class="meta">@Value</span>(<span class="string">"$&#123;demo.url&#125;"</span>)</span><br><span class="line">	<span class="keyword">private</span> String mongodbUrl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//hello</span></span><br><span class="line">	<span class="meta">@Value</span>(<span class="string">"$&#123;demo.db&#125;"</span>)</span><br><span class="line">	<span class="keyword">private</span> String defaultDb;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>
<p>2.通过运行环境spring中的Environment设置：<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(basePackages = &#123; <span class="string">"com.mkyong.*"</span> &#125;)</span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"classpath:config.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfigMongoDB</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	<span class="keyword">private</span> Environment env;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> MongoTemplate <span class="title">mongoTemplate</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">		String mongodbUrl = env.getProperty(<span class="string">"mongodb.url"</span>);</span><br><span class="line">		String defaultDb = env.getProperty(<span class="string">"mongodb.db"</span>);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure><p></p>
<p>3.OGNL解析:<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"file:$&#123;app.home&#125;/app.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	Environment env;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>
<h2 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value</span>(<span class="string">"normal"</span>)</span><br><span class="line"><span class="keyword">private</span> String normal; <span class="comment">// 注入普通字符串</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Value</span>(<span class="string">"#&#123;systemProperties['os.name']&#125;"</span>)</span><br><span class="line"><span class="keyword">private</span> String systemPropertiesName; <span class="comment">// 注入操作系统属性</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Value</span>(<span class="string">"#&#123; T(java.lang.Math).random() * 100.0 &#125;"</span>)</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">double</span> randomNumber; <span class="comment">//注入表达式结果</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Value</span>(<span class="string">"#&#123;beanInject.another&#125;"</span>)</span><br><span class="line"><span class="keyword">private</span> String fromAnotherBean; <span class="comment">// 注入其他Bean属性：注入beanInject对象的属性another，类具体定义见下面</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Value</span>(<span class="string">"classpath:com/hry/spring/configinject/config.txt"</span>)</span><br><span class="line"><span class="keyword">private</span> Resource resourceFile; <span class="comment">// 注入文件资源</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Value</span>(<span class="string">"http://www.baidu.com"</span>)</span><br><span class="line"><span class="keyword">private</span> Resource testUrl; <span class="comment">// 注入URL资源</span></span><br></pre></td></tr></table></figure>
<h2 id="ConfigurationProperties"><a href="#ConfigurationProperties" class="headerlink" title="@ConfigurationProperties"></a>@ConfigurationProperties</h2><p>Spring Boot 可以方便的将属性注入到一个配置对象中。例如：<br>my.name=Isea533<br>my.port=8080<br>my.servers[0]=dev.bar.com<br>my.servers[1]=foo.bar.com<br>对应对象：<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix=<span class="string">"my"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Config</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer port;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; servers = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">geName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">gePort</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.port;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getServers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.servers;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>
<p>Spring Boot 会自动将prefix=”my”前缀为my的属性注入进来。</p>
<p>Spring Boot 会自动转换类型，当使用List的时候需要注意在配置中对List进行初始化！<br>Spring Boot 还支持嵌套属性注入，例如：<br>name=isea533<br>jdbc.username=root<br>jdbc.password=root</p>
<p>对应的配置类：<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Config</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Jdbc jdbc;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Jdbc</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String username;</span><br><span class="line">        <span class="keyword">private</span> String password;</span><br><span class="line">        <span class="comment">//getter...</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">gePort</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.port;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Jdbc <span class="title">getJdbc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.jdbc;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>
<p>jdbc开头的属性都会注入到Jdbc对象中。<br>在@Bean方法上使用@ConfigurationProperties<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"foo"</span>)</span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> FooComponent <span class="title">fooComponent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>
<p>Spring Boot 会将foo开头的属性按照名字匹配注入到FooComponent对象中。</p>
<h2 id="属性占位符"><a href="#属性占位符" class="headerlink" title="属性占位符"></a>属性占位符</h2><p>例如：<br>app.name=MyApp<br>app.description=${app.name} is a Spring Boot application<br>可以在配置文件中引用前面配置过的属性（优先级前面配置过的这里都能用）。</p>
<p>通过如${app.name:默认名称}方法还可以设置默认值，当找不到引用的属性时，会使用默认的属性。</p>
<p>由于${}方式会被Maven处理。如果你pom继承的spring-boot-starter-parent，Spring Boot 已经将maven-resources-plugins默认的${}方式改为了@ @方式，例如@name@。</p><script src="/js/lazyload-plugin/lazyload.intersectionObserver.min.js"></script>
      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    iwyy
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://www.iwyy.top/2018/spring-boot-config.html" title="Spring Boot 属性配置和使用">http://www.iwyy.top/2018/spring-boot-config.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
		  <a href="/tags/springboot/" rel="tag"><i class="fa fa-tag"></i> springboot</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/mysql-table.html" rel="next" title="mysql表设计优化">
                <i class="fa fa-chevron-left"></i> mysql表设计优化
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/m.jpg" alt="iwyy">
            
              <p class="site-author-name" itemprop="name">iwyy</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot配置属性之MVC"><span class="nav-number">1.</span> <span class="nav-text">SpringBoot配置属性之MVC</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#mvc"><span class="nav-number">1.1.</span> <span class="nav-text">mvc</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#messages"><span class="nav-number">1.2.</span> <span class="nav-text">messages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mobile"><span class="nav-number">1.3.</span> <span class="nav-text">mobile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#resource"><span class="nav-number">1.4.</span> <span class="nav-text">resource</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#multipart"><span class="nav-number">1.5.</span> <span class="nav-text">multipart</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#freemarker"><span class="nav-number">1.6.</span> <span class="nav-text">freemarker</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#velocity"><span class="nav-number">1.7.</span> <span class="nav-text">velocity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#thymeleaf"><span class="nav-number">1.8.</span> <span class="nav-text">thymeleaf</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mustcache"><span class="nav-number">1.9.</span> <span class="nav-text">mustcache</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#groovy模板"><span class="nav-number">1.10.</span> <span class="nav-text">groovy模板</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#http"><span class="nav-number">1.11.</span> <span class="nav-text">http</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#json"><span class="nav-number">1.12.</span> <span class="nav-text">json</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jersey"><span class="nav-number">1.13.</span> <span class="nav-text">jersey</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot配置属性之Server"><span class="nav-number">2.</span> <span class="nav-text">SpringBoot配置属性之Server</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#server配置"><span class="nav-number">2.1.</span> <span class="nav-text">server配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cookie、session配置"><span class="nav-number">2.2.</span> <span class="nav-text">cookie、session配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ssl配置"><span class="nav-number">2.3.</span> <span class="nav-text">ssl配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tomcat"><span class="nav-number">2.4.</span> <span class="nav-text">tomcat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undertow"><span class="nav-number">2.5.</span> <span class="nav-text">undertow</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot配置属性之DataSource"><span class="nav-number">3.</span> <span class="nav-text">SpringBoot配置属性之DataSource</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#datasource"><span class="nav-number">3.1.</span> <span class="nav-text">datasource</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JPA"><span class="nav-number">3.2.</span> <span class="nav-text">JPA</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jooq"><span class="nav-number">3.3.</span> <span class="nav-text">jooq</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#h2"><span class="nav-number">3.4.</span> <span class="nav-text">h2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JTA"><span class="nav-number">3.5.</span> <span class="nav-text">JTA</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot配置属性之NOSQL"><span class="nav-number">4.</span> <span class="nav-text">SpringBoot配置属性之NOSQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#cache"><span class="nav-number">4.1.</span> <span class="nav-text">cache</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mongodb"><span class="nav-number">4.2.</span> <span class="nav-text">mongodb</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#redis"><span class="nav-number">4.3.</span> <span class="nav-text">redis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#springdata"><span class="nav-number">4.4.</span> <span class="nav-text">springdata</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot配置属性之MQ"><span class="nav-number">5.</span> <span class="nav-text">SpringBoot配置属性之MQ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#activemq"><span class="nav-number">5.1.</span> <span class="nav-text">activemq</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#artemis-HornetQ捐献给apache后的版本"><span class="nav-number">5.2.</span> <span class="nav-text">artemis(HornetQ捐献给apache后的版本)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rabbitmq"><span class="nav-number">5.3.</span> <span class="nav-text">rabbitmq</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hornetq"><span class="nav-number">5.4.</span> <span class="nav-text">hornetq</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jms"><span class="nav-number">5.5.</span> <span class="nav-text">jms</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot配置属性之Security"><span class="nav-number">6.</span> <span class="nav-text">SpringBoot配置属性之Security</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot配置属性之Migration"><span class="nav-number">7.</span> <span class="nav-text">SpringBoot配置属性之Migration</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#flyway"><span class="nav-number">7.1.</span> <span class="nav-text">flyway</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#liquibase"><span class="nav-number">7.2.</span> <span class="nav-text">liquibase</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot配置属性之其他"><span class="nav-number">8.</span> <span class="nav-text">SpringBoot配置属性之其他</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#aop"><span class="nav-number">8.1.</span> <span class="nav-text">aop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#application"><span class="nav-number">8.2.</span> <span class="nav-text">application</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#autoconfig"><span class="nav-number">8.3.</span> <span class="nav-text">autoconfig</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#batch"><span class="nav-number">8.4.</span> <span class="nav-text">batch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jmx"><span class="nav-number">8.5.</span> <span class="nav-text">jmx</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mail"><span class="nav-number">8.6.</span> <span class="nav-text">mail</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sendgrid"><span class="nav-number">8.7.</span> <span class="nav-text">sendgrid</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#social"><span class="nav-number">8.8.</span> <span class="nav-text">social</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#程序启动时设置配置文件"><span class="nav-number">9.</span> <span class="nav-text">程序启动时设置配置文件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring-Boot-属性配置使用"><span class="nav-number">10.</span> <span class="nav-text">Spring Boot 属性配置使用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PropertySource"><span class="nav-number">10.1.</span> <span class="nav-text">@PropertySource</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Value"><span class="nav-number">10.2.</span> <span class="nav-text">@Value</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ConfigurationProperties"><span class="nav-number">10.3.</span> <span class="nav-text">@ConfigurationProperties</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#属性占位符"><span class="nav-number">10.4.</span> <span class="nav-text">属性占位符</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">iwyy</span></div><div class="theme-info"><span><a href="http://www.miitbeian.gov.cn/" title="备案信息" target="_blank" rel="external nofollow">京ICP备18006703号</a></span></div><span class="post-meta-divider">|</span><div class="theme-info"><span>Hosted by <a href="https://pages.coding.me" target="_blank" rel="external nofollow">Coding Pages</a></span></div>
        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script>





  



  






  















  
  
    <script type="text/javascript" src="//cdn.bootcss.com/jquery/2.1.3/jquery.min.js"></script>
  

  
  
    <script type="text/javascript" src="//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js"></script>
  

  
  
    <script type="text/javascript" src="//cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script>
  

  
  
    <script type="text/javascript" src="//cdn.bootcss.com/velocity/1.2.1/velocity.min.js"></script>
  

  
  
    <script type="text/javascript" src="//cdn.bootcss.com/velocity/1.2.1/velocity.ui.min.js"></script>
  

  
  
    <script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js"></script>

  <script type="text/javascript" src="/js/src/motion.js"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js"></script>
<script type="text/javascript" src="/js/src/post-details.js"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>